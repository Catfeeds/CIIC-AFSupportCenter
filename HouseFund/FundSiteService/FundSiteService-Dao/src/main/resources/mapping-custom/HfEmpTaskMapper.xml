<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ciicsh.gto.afsupportcenter.housefund.siteservice.dao.HfEmpTaskMapper">

    <select id="queryByTaskId" parameterType="java.lang.Long" resultMap="BaseResultMap">
        SELECT
        emp_task_id,
        company_id,
        employee_id,
        emp_archive_id,
        is_change,
        hf_type,
        task_category,
        urgent,
        operation_remind,
        operation_remind_date,
        submitter_id,
        submitter_dept_name,
        submit_time,
        expire_date,
        submitter_remark,
        task_form_content,
        handle_user_id,
        handle_user_name,
        handle_date,
        handle_remark,
        rejection_remark,
        material_sign_record,
        special_task,
        task_status,
        handle_status,
        start_handle_date,
        send_check_date,
        finish_date,
        emp_base,
        start_month,
        end_month,
        ratio_emp,
        ratio_com,
        amount,
        transfer_out_unit,
        transfer_out_unit_account,
        transfer_in_unit,
        transfer_in_unit_account,
        transfer_date,
        feedback_date,
        operate_date,
        business_interface_id,
        task_id,
        is_active,
        created_time,
        modified_time,
        created_by,
        modified_by,
        hf_emp_account,
        in_date
        FROM
        hf_emp_task et
        WHERE et.employee_id = #{employeeId}
        and et.company_id=#{companyId}
        and et.task_id=#{taskId}
        AND et.is_active = 1
    </select>

    <insert id="insertHfEmpTask" useGeneratedKeys="true" keyProperty="empTaskId">
        insert into
        hf_emp_task
        (company_id,
        employee_id,
        emp_archive_id,
        is_change,
        hf_type,
        task_category,
        urgent,
        operation_remind,
        operation_remind_date,
        submitter_id,
        submitter_dept_name,
        submit_time,
        expire_date,
        submitter_remark,
        task_form_content,
        handle_user_id,
        handle_user_name,
        handle_date,
        handle_remark,
        rejection_remark,
        material_sign_record,
        special_task,
        task_status,
        handle_status,
        start_handle_date,
        send_check_date,
        finish_date,
        emp_base,
        start_month,
        end_month,
        ratio_emp,
        ratio_com,
        amount,
        transfer_out_unit,
        transfer_out_unit_account,
        transfer_in_unit,
        transfer_in_unit_account,
        transfer_date,
        feedback_date,
        operate_date,
        business_interface_id,
        task_id,
        is_active,
        created_time,
        modified_time,
        created_by,
        modified_by,
        hf_emp_account,
        in_date) VALUES
        (#{companyId},#{employeeId},#{empArchiveId},#{isChange},#{hfType},#{taskCategory},#{urgent},#{operationRemind},
        #{operationRemindDate},#{submitterId},#{submitterDeptName},#{submitTime},#{expireDate},#{submitterRemark},
        #{taskFormContent},#{handleUserId},#{handleUserName},#{handleDate},#{handleRemark},#{rejectionRemark},#{materialSignRecord},
        #{specialTask},#{taskStatus},#{handleStatus},#{startHandleDate},#{sendCheckDate},#{finishDate},#{empBase},
        #{startMonth},#{endMonth},#{ratioEmp},#{ratioCom},#{amount},#{transferOutUnit},#{transferOutUnitAccount},
        #{transferInUnit},#{transferInUnitAccount},#{transferDate},#{feedbackDate},#{operateDate},#{businessInterfaceId},
        #{taskId},#{isActive},#{createdTime},#{modifiedTime},#{createdBy},#{modifiedBy},#{hfEmpAccount},#{in_date})
    </insert>
</mapper>
