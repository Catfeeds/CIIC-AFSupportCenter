<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ciicsh.gto.afsupportcenter.employmanagement.employcommandservice.dao.AmEmpMaterialMapper">

	<!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMapDTO" extends="BaseResultMap"
               type="com.ciicsh.gto.afsupportcenter.employmanagement.employcommandservice.bo.AmEmpMaterialBO">
       
    </resultMap>

    <resultMap id="BaseResultMaterialMapDTO" extends="BaseResultMap"
               type="com.ciicsh.gto.afsupportcenter.employmanagement.employcommandservice.api.dto.MaterialDTO">
    </resultMap>

    <select id="queryAmEmpMaterial" resultMap="BaseResultMapDTO">
        SELECT  * from  am_emp_material where is_active = 1 and  emp_task_id = #{empTaskId}  and operate_type = #{operateType}
    </select>

    <select id="queryMaterialDic" resultMap="BaseResultMapDTO">
    SELECT  material_name  from  cmy_af_material_dic  where material_type = '2'
   </select>

    <select id="queryMaterialByTaskId" resultMap="BaseResultMaterialMapDTO">
        SELECT  material_name,receive_name,receive_date,receive_id  from  am_emp_material where is_active = 1 and  emp_task_id = #{empTaskId}
    </select>

    <update id="updateMaterialByTaskId">
        UPDATE am_emp_material  set receive_name = #{receiveName},receive_date = #{receiveDate},receive_id = #{receiveId},modified_time = #{receiveDate},modified_by=#{receiveId} where  emp_task_id = #{empTaskId}
    </update>

</mapper>
