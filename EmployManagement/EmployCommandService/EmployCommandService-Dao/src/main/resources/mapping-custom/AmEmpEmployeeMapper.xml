<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ciicsh.gto.afsupportcenter.employmanagement.employcommandservice.dao.AmEmpEmployeeMapper">

	<!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMapDTO" extends="BaseResultMap"
               type="com.ciicsh.gto.afsupportcenter.employmanagement.employcommandservice.bo.AmEmpEmployeeBO">
    </resultMap>

    <select id="queryAmEmployeeByTaskId" resultMap="BaseResultMapDTO">
        SELECT
        a.*,
        b.archive_direction,
        b.employee_nature,
        b.employ_property
        FROM
        am_emp_employee a
        LEFT JOIN am_emp_task b ON a.emp_task_id = b.emp_task_id
        WHERE
        a.emp_task_id = #{empTaskId}
    </select>

    <select id="queryAmEmployee" resultMap="BaseResultMapDTO">
        SELECT
        a.*,
        b.archive_direction,
        b.employee_nature,
        b.employ_property
        FROM
        am_emp_employee a
        LEFT JOIN am_emp_task b ON a.emp_task_id = b.emp_task_id
        WHERE
        a.company_id = #{companyId}
        and
        a.employee_id = #{employeeId}
        order by a.created_time desc
    </select>

</mapper>
