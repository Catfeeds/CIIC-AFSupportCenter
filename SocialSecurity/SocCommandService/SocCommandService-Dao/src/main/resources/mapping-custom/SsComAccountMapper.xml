<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ciicsh.gto.afsupportcenter.socialsecurity.soccommandservice.dao.SsComAccountMapper">

    <resultMap id="ModelResultMap"
               type="com.ciicsh.gto.afsupportcenter.socialsecurity.soccommandservice.dto.SsComAccountDTO"
               extends="BaseResultMap">


    </resultMap>
    <!--查询企业任务单 会涉及到 结算区县-->
    <select id="queryComAccount" resultMap="ModelResultMap">
        SELECT
        sca.bank_account,sca.com_account_id,sca.com_account_name,sca.deliver_way,
        sca.ss_Account_Type,sca.is_active,sca.ss_Account,sca.into_date,sca.end_date,
        sca.end_date,sca.remark,cc.company_id,cc.title
        FROM ss_com_account sca
        LEFT JOIN ss_account_com_tie act ON act.com_account_id=sca.com_account_id
        LEFT JOIN cmy_company cc ON  cc.company_id=act.company_id

          <where>
              AND act.major_com=1
              <if test="comAccountName!= null">
                  AND sca.com_account_name LIKE CONCAT('%', #{comAccountName}, '%')
              </if>
              <!--<if test="taskCategory!= null">
                  AND sct.task_category = #{taskCategory}
              </if>
              <if test="companyId!= null">
                  AND sct.customer_id = #{companyId}
              </if>
              <if test="submitTimeStrat!= null">
                  AND sct.submit_time <![CDATA[ >= ]]> #{submitTimeStart}
              </if>
              <if test="submitTimeEnd!= null ">
                  AND sct.submit_time <![CDATA[ <= ]]> #{submitTimeEnd}
              </if>-->
          </where>
    </select>
</mapper>
